
bodySizeLimit 500;
dirErrorPage /etc/err_page/;

#test

server{
		listen 8080;
		server_name test.fr;
		root /data;
		index /default_page/index.html;
		bodySizeLimit 777;
		path_cgi mimi /path;
		cgi_available mimi php pl bin;

		location / {
			root /default_page;
			index	index.html;
			allow_methods GET POST;
		}

		location /balloon {
			root /example_page;
			index	balloon.html;
			allow_methods GET POST;
		}

		location /shutdown {
			root /example_page;
			index	shutdown.html;
			allow_methods GET;
		}

		location /diffName {
			root /example_page;
			index	testpage.html;
			allow_methods GET;
		}

		location /noIndex {
			root /example_page;
			index	;
			allow_methods GET;
		}

		location /old {
			root /example_page;
			index	redirpage.html;
			allow_methods GET;
			return http://127.0.0.1:8080/new;
		}

		location /noRedir {
			root /example_page;
			index	noredir.html;
			allow_methods GET;
		}

		location /new {
			root /redirections;
			index	redirpage.html;
			allow_methods GET;
		}

		location /noaccess {
			root /example_page;
			index	noaccess.html;
			allow_methods GET;
		}

		location /default_page/ {
			autoindex	off;
		}

		location /example_page/ {
			autoindex	on;
		}
}

error_page 404 /path/404.fg;
error_page 504 /path/504.fg; #commentaire

# revoir les chemins root
# tester avec des chemins absolues